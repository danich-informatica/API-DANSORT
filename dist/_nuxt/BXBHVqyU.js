import{_ as p}from"./DeSJacdJ.js";import{_ as T}from"./-oBpOyrv.js";import{g as C}from"./cgzkPmTi.js";import{Z as E,e as I,r as y,k as d,g as M,c as w,a as c,b as l,t as _,Y as O,j as o,w as m,n as u,F as x,o as v,y as A,z as L,d as b}from"#entry";import{g as f}from"./9e-Yg0Sx.js";const k=[{key:"device_name",label:"DISPOSITIVO"},{key:"ip",label:"IP"},{key:"is_disconnected",label:"ESTADO"},{key:"last_disconnection",label:"ÚLTIMA DESCONEXIÓN"}];var h=(e=>(e.SECTION_DEVICES_LIST="SectionDeviceList",e))(h||{});const N=[{name:h.SECTION_DEVICES_LIST,show:!1}],P=()=>({devices:[{id:101,is_disconnected:!0,ip:"192.168.1.50",device_name:"PLC Principal - General",last_disconnection:"2025-06-15T10:00:00Z",section_id:1},{id:102,is_disconnected:!1,ip:"192.168.1.51",device_name:"Sensor de Proximidad A",last_disconnection:"2025-07-09T12:30:00Z",section_id:1},{id:201,is_disconnected:!0,ip:"192.168.2.10",device_name:"Cámara Visión Sorter 1",last_disconnection:"2025-07-01T08:00:00Z",section_id:2},{id:202,is_disconnected:!0,ip:"192.168.2.11",device_name:"Cámara Visión Sorter 2",last_disconnection:"2025-07-01T08:00:00Z",section_id:2},{id:301,is_disconnected:!0,ip:"192.168.3.20",device_name:"Impresora de Etiquetas ZT410",last_disconnection:"2025-07-09T13:05:00Z",section_id:3},{id:302,is_disconnected:!0,ip:"192.168.3.21",device_name:"Aplicador de Etiquetas",last_disconnection:"",section_id:3},{id:401,is_disconnected:!0,ip:"192.168.4.30",device_name:"Brazo Robótico Paletizador",last_disconnection:"2025-06-20T14:00:00Z",section_id:4},{id:402,is_disconnected:!0,ip:"192.168.4.31",device_name:"Envolvedora de Pallets",last_disconnection:"",section_id:4}],sections:[{section_id:1,section_name:"GENERAL",has_connection:!0},{section_id:2,section_name:"SORTER",has_connection:!0},{section_id:3,section_name:"ETIQUETADO",has_connection:!1},{section_id:4,section_name:"PALETIZADO",has_connection:!0}],modals:N}),V={async getSectionDevicesConnection(){try{this.sections=await f("/monitoring/devices/sections")}catch(e){console.error(e)}},async getDevicesConnection(e){try{this.devices=await f(`/monitoring/devices/${e}`)}catch(s){console.error(s)}}},Z={...V},B=E("myMonitoringDevicesStore",{state:P,actions:Z}),z={class:"title-3 text-center text-dgreen1"},R={class:"relative overflow-y-auto w-full h-auto my-5 shadow-lg"},F={class:"flex justify-center"},U=I({__name:"DevicesList",props:{section:{default:null}},setup(e){const s=B(),t=y(""),a=d(()=>e.section?s.devices.filter(i=>i.section_id===e.section.section_id):s.devices),g=d(()=>e.section?a.value.filter(i=>i.device_name.toLowerCase().includes(t.value.toLowerCase())):a.value);return M(async()=>{e.section}),(i,r)=>{const D=p,S=T;return v(),w(x,null,[c("h1",z,"DISPOSITIVOS EN "+_(e.section?.section_name),1),l(D,{is_button_active:!1,search_term:o(t),"onUpdate:search_term":r[0]||(r[0]=n=>O(t)?t.value=n:null)},null,8,["search_term"]),c("div",R,[l(S,{class:u("shadow-md"),"header-class":"bg-dgreen2 text-white","cell-class":"text-3 w-72",striped:!1,data:o(g)??[],headers:"MonitoringDevicesHeaders"in i?i.MonitoringDevicesHeaders:o(k)},{last_disconnection:m(({row:n})=>[b(_(o(C)(n.last_disconnection)),1)]),is_disconnected:m(({row:n})=>[c("div",F,[(v(),A(L(n.is_disconnected?"IconsCrossCircle":"IconsCheckCircle"),{class:u(n.is_disconnected?"text-dred2":"text-green-500"),size:"2em"},null,8,["class"]))])]),_:1},8,["data","headers"])])],64)}}});export{h as M,U as _,B as u};
