const o=new Map;function n(e){if(o.has(e))return console.warn(`WebSocket for ${e} is already connected.`),o.get(e);const c=`ws://127.0.0.1:8081/${e}`,r=new WebSocket(c);return r.onopen=()=>{console.log("CONECTADO AL WEBSOCKET NATIVO")},r.onclose=t=>{console.log("WebSocket desconectado:",t.reason),o.delete(e)},r.onerror=t=>{console.error("Error en WebSocket:",t)},r.onmessage=t=>{const s=JSON.parse(t.data);console.log("Mensaje recibido:",s)},o.set(e,r),r}function a(e){const c=o.get(e);if(!c){console.warn(`No existe conexi칩n WebSocket activa para el namespace "${e}".`);return}if(c.readyState===WebSocket.CLOSED||c.readyState===WebSocket.CLOSING){console.log(`El WebSocket para "${e}" ya est치 cerrado o cerr치ndose.`),o.delete(e);return}console.log(`游뛁 Cerrando conexi칩n WebSocket para "${e}"...`),c.close(1e3,"Cierre manual"),o.delete(e)}export{a as c,n as s};
