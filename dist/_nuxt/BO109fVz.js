const o=new Map;function l(e){if(o.has(e))return console.warn(`WebSocket for ${e} is already connected.`),o.get(e);const t=window.location.hostname,n=window.location.port||"80",s=`ws://${t}:${n}/${e}`;console.log(`游댋 Conectando WebSocket a: ${s}`);const c=new WebSocket(s);return c.onopen=()=>{console.log("CONECTADO AL WEBSOCKET NATIVO")},c.onclose=r=>{console.log("WebSocket desconectado:",r.reason),o.delete(e)},c.onerror=r=>{console.error("Error en WebSocket:",r)},c.onmessage=r=>{const a=JSON.parse(r.data);console.log("Mensaje recibido:",a)},o.set(e,c),c}function S(e){const t=o.get(e);if(!t){console.warn(`No existe conexi칩n WebSocket activa para el namespace "${e}".`);return}if(t.readyState===WebSocket.CLOSED||t.readyState===WebSocket.CLOSING){console.log(`El WebSocket para "${e}" ya est치 cerrado o cerr치ndose.`),o.delete(e);return}console.log(`游뛁 Cerrando conexi칩n WebSocket para "${e}"...`),t.close(1e3,"Cierre manual"),o.delete(e)}export{S as c,l as s};
