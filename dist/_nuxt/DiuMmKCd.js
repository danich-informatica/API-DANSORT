import i from"./CPfk1H8J.js";import m from"./VdshkEci.js";import{u as _}from"./CdTWe2pR.js";import{s as p,c as u}from"./Ck-dp24N.js";import{u as d}from"./CywkuO4k.js";import{e as f,i as l,f as L,g,h as k,c as S,a as s,b as r,o as b}from"#entry";import"./DlAUqK2U.js";import"./9e-Yg0Sx.js";import"./dp8nkxwr.js";import"./CcFceyxz.js";const x=()=>{const e=_();return{getLoftCoversByLine:async o=>await e.getLoftCoversByLine(o)}};function y(e){const o=p(e);if(!o){console.error(`NO SE PUDO OBTENER EL SOCKET PARA ${e}`);return}console.log("Configurando listeners para el room:",e),d(),o.onmessage=n=>{try{const t=JSON.parse(n.data);switch(t.type){case"monitoring:rejections:totals":break;case"monitoring:rejections:counters":break;case"monitoring:rejections":break;default:console.warn("Evento WebSocket no reconocido:",t.event);break}}catch(t){console.error("Error al procesar el mensaje WebSocket:",t)}}}const h={class:"mx-4 mt-4 mb-4 flex gap-4 h-[87%]"},v={class:"flex-1"},E={class:"flex-1"},I=f({__name:"[_id]",setup(e){const o=l(),{getLoftCoversByLine:n}=x(),t=L();return g(async()=>{t.custom_page_title=`ALTILLO LINEA  ${o.params._id}`,y(`ws?line=L${o.params._id}/LOFT_0${o.params._id}`),await n(Number(o.params._id))}),k(()=>{u(`ws?line=L${o.params._id}/LOFT_0${o.params._id}`)}),(B,C)=>{const a=i,c=m;return b(),S("div",h,[s("div",v,[r(a)]),s("div",E,[r(c)])])}}});export{I as default};
