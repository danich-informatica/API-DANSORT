import{_ as A}from"./-oBpOyrv.js";import{u as R,a as k}from"./DFdz2xDp.js";import{c as j}from"./CW01jNDv.js";import{g as f}from"./cgzkPmTi.js";import{e as v,i as S,f as I,g as N,h as L,c as O,b as n,a as e,w as i,j as a,n as d,m as _,o as E,t as c}from"#entry";import{s as T}from"./kaEDak_v.js";import"./XIrV35nz.js";import"./CcFceyxz.js";import"./BA1Ues6r.js";const D=[{key:"counter_name",label:"CONTADOR"},{key:"counter_total",label:"CONTEO"},{key:"counter_percentage",label:"PORCENTAJE"},{key:"updated_at",label:"ÚLTIMA ACTUALIZACIÓN"}],B=[{key:"rejection_box_code",label:"CÓDIGO DE CAJA"},{key:"rejection_sku",label:"SKU"},{key:"rejection_reason",label:"RAZÓN"},{key:"created_at",label:"ÚLTIMA DESCONEXIÓN"}];var u=(l=>(l.NO_LECTURA="No Lectura",l.SIN_BAUTIZO="Sin Bautizo",l.SELLADORA_LLENA="Selladora Llena",l))(u||{});function h(l){switch(l){case u.NO_LECTURA:return"bg-red-500 text-white px-4 py-1 rounded font-bold";case u.SIN_BAUTIZO:return"bg-yellow-400 text-black px-4 py-1 rounded font-bold";case u.SELLADORA_LLENA:return"bg-gray-400 text-white px-4 py-1 rounded font-bold";default:return"bg-gray-200 text-black px-4 py-1 rounded font-bold"}}const M={class:"bg-gray-black w-full"},U={class:"flex flex-col lg:flex-row justify-center w-full bg-black/5 py-1 h-[calc(100vh-120px)] overflow-y-auto"},z={class:"w-full lg:w-1/2 bg-white rounded-2xl shadow-lg p-4 flex flex-col justify-start mx- h-fit max-h-[calc(100vh-120px)] overflow-y-auto py-3"},H={class:""},$={class:"relative overflow-x-auto w-full rounded shadow mt-1"},Z={style:{"font-size":"0.75rem"}},F={class:"w-full mt-3"},P={class:"relative overflow-x-auto w-full rounded shadow mt-1"},G={style:{"font-size":"0.75rem"}},J={class:"w-full lg:w-1/2 bg-white rounded-2xl shadow-lg p-3 flex flex-col items-center justify-start h-fit max-h-full overflow-y-auto mx-5"},V={class:"w-full max-w-[250px] h-[200px] sm:h-[220px] md:h-[250px] lg:h-[335px] xl:h-[400px] flex justify-center items-center mt-5"},se=v({__name:"[_id]",setup(l){const s=S(),{getRejectionTotals:b,getRejectionCounters:w,getRejectionHistoryByLine:x}=R(),m=k(),g=I();return N(async()=>{g.custom_page_title=`ESTADISTICAS RECHAZO ${s.params._id}`,T(`ws?line=L${s.params._id}/DISCARD_0${s.params._id}`),await b(Number(s.params._id)),await w(Number(s.params._id)),await x(Number(s.params._id))}),L(()=>{j(`ws?line=L${s.params._id}/DISCARD_0${s.params._id}`)}),(r,t)=>{const y=_("InforCard"),p=A,C=_("PieChart");return E(),O("div",M,[n(y),e("div",null,[e("div",U,[e("div",z,[e("div",H,[t[0]||(t[0]=e("h1",{class:"bg-white text-1-black text-dgreen1 overflow-hidden"},"CONTADORES",-1)),t[1]||(t[1]=e("hr",{class:"border-t-1 border-black w-full"},null,-1)),e("div",$,[n(p,{class:d("shadow-md bg-white rounded h-32"),"header-class":"bg-dgreen2 text-s text-white table-header-small","cell-class":"text-s ",striped:!1,data:a(m).rejection_counters??[],headers:"CounterRejections"in r?r.CounterRejections:a(D)},{counter_percentage:i(({row:o})=>[e("span",{class:d(a(h)(o.counter_name)),style:{display:"inline-block","min-width":"70px","font-size":"0.75rem"}},c(o.counter_percentage)+"% ",3)]),updated_at:i(({row:o})=>[e("span",Z,c(a(f)(o.updated_at)),1)]),_:1},8,["data","headers"])])]),e("div",F,[t[2]||(t[2]=e("h1",{class:"bg-white w-full text-1-black text-dgreen1 overflow-hidden"},"HISTORIAL",-1)),t[3]||(t[3]=e("hr",{class:"border-t-2 border-black w-full"},null,-1)),e("div",P,[n(p,{class:d("shadow-md bg-white rounded h-48"),"header-class":"bg-dgreen2 text-white table-header-small","cell-class":"text-sm px-2 py-1",striped:!1,data:a(m).getFirstSixFromColumn,headers:"HistoryStatsRejections"in r?r.HistoryStatsRejections:a(B)},{rejection_reason:i(({row:o})=>[e("span",{class:d(a(h)(o.rejection_reason)),style:{display:"inline-block","min-width":"100px","font-size":"0.75rem"}},c(o.rejection_reason),3)]),created_at:i(({row:o})=>[e("span",G,c(a(f)(o.created_at)),1)]),_:1},8,["data","headers"])])])]),e("div",J,[t[4]||(t[4]=e("h1",{class:"bg-white w-full text-1-black text-dgreen1 overflow-hidden"},"GRÁFICO",-1)),t[5]||(t[5]=e("hr",{class:"border-t-1 border-black w-full"},null,-1)),e("div",V,[n(C,{class:"w-full h-full"})])])])])])}}});export{se as default};
