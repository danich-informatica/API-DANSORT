import{_ as h}from"./DeSJacdJ.js";import{_ as T}from"./-oBpOyrv.js";import{_ as w}from"./doL2DzwI.js";import{e as g,r as v,k as L,g as y,c as k,a as s,b as m,w as d,Y as M,j as r,F as U,o as O,C,D as I,d as u,t as c}from"#entry";import{u as S}from"./CmmS28rl.js";import{u as D}from"./3xTCpF3_.js";var i=(o=>(o[o.AUTOMATIC=0]="AUTOMATIC",o[o.MANUAL=1]="MANUAL",o[o.ALL=2]="ALL",o))(i||{});const x=[{key:"cod_caja",label:"CÓDIGO DE CAJA"},{key:"sku",label:"SKU"},{key:"calibre",label:"CALIBRE"},{key:"salida",label:"SALIDA"},{key:"tipo_bautizo",label:"MODO"},{key:"fecha",label:"FECHA"}],E=["value"],H=["value"],N={class:"relative overflow-y-auto w-full max-w-screen xl:w-full mx-auto h-[50vh] lg:h-[60vh] xl:h-[67vh] mt-5 border shadow-lg rounded-lg"},$=g({__name:"EnrollmentHistory",props:{sorter_id:{}},setup(o){const n=v(""),p=o,{getEnrollmentHistory:A}=S(),l=D(),f=L(()=>{let t=[];switch(l.filter_option_selected){case i.AUTOMATIC:t=l.enrollment_history.filter(e=>!e.tipo_bautizo);break;case i.MANUAL:t=l.enrollment_history.filter(e=>e.tipo_bautizo);break;default:t=l.enrollment_history;break}return n.value&&(t=t.filter(e=>e.sku.toLowerCase().includes(n.value.toLowerCase()))),t});return y(async()=>{await A(p.sorter_id)}),(t,e)=>{const _=h,b=T;return O(),k(U,null,[e[4]||(e[4]=s("h1",{class:"title-2 text-dgreen1 text-center p-2"},"HISTORIAL DE BAUTIZOS",-1)),m(_,{is_button_active:!1,search_term:r(n),"onUpdate:search_term":e[1]||(e[1]=a=>M(n)?n.value=a:null)},{additional:d(()=>[C(s("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>r(l).filter_option_selected=a),class:"border mx-1 border-dgreen1 rounded-md p-1 w-64 text-3 h-8"},[e[2]||(e[2]=s("option",{selected:"",value:null},"TODOS",-1)),s("option",{value:("enrollment_types_filter"in t?t.enrollment_types_filter:r(i)).AUTOMATIC},"AUTOMÁTICO",8,E),s("option",{value:("enrollment_types_filter"in t?t.enrollment_types_filter:r(i)).MANUAL},"MANUAL",8,H)],512),[[I,r(l).filter_option_selected]]),e[3]||(e[3]=s("div",{class:"flex flex-col ml-3 items-center"},[s("label",{for:"show-details",class:"text-5 text-dgreen1"},"PAUSAR HISTORIAL"),s("input",{id:"show-details",class:"w-5 h-5",type:"checkbox"})],-1))]),_:1},8,["search_term"]),s("div",N,[m(b,{"header-class":"bg-dgreen2 text-white border-0 shadow-lg rounded-lg","cell-class":["w-72 text-4"],striped:!0,"striped-row-class":"bg-lgreen3/13",data:r(f),headers:"EnrollmentHistoryHeaders"in t?t.EnrollmentHistoryHeaders:r(x)},{fecha:d(({row:a})=>[u(c(("formatDateToLocal"in t?t.formatDateToLocal:r(w))(a.fecha,!0)),1)]),tipo_bautizo:d(({row:a})=>[u(c(a.tipo_bautizo?"MANUAL":"AUTOMÁTICO"),1)]),_:1},8,["data","headers"])])],64)}}});export{$ as _};
