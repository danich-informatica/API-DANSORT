import{s as u}from"./CCzOxshU.js";import{u as m}from"./3xTCpF3_.js";async function l(t){const a=await u(t);if(!a){console.error(`NO SE PUDO OBTENER EL SOCKET PARA ${t}`);return}console.log("Configurando listeners para el room:",t);const s=m();a.onmessage=r=>{try{const e=JSON.parse(r.data);switch(e.type){case"sku_flow_stats":if(s.is_stopped_assignment_listener)return;s.skus=e.data.stats;break;case"sku_assigned":const i=s.assignments||[],o=(e.data||[]).map(n=>{const c=i.find(d=>d.sealer_db_id===n.sealer_db_id);return{...n,is_expanded:c?.is_expanded===!0?!0:n.is_expanded}});s.assignments=o;break;case"history/sorter":s.enrollment_history=e.data;break;default:break}}catch{}}}export{l as s};
