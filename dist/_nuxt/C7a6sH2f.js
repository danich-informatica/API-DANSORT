import{e as L,r as g,k as p,c as r,x as m,a as i,t as f,j as o,n as k,o as u}from"#entry";const w={class:"w-full text-center"},C={key:0,class:"text-3 text-center"},F=["accept","multiple"],B={class:"ml-3 text-sm text-dgreen1 truncate"},I={key:1,class:"mt-1 text-sm text-red-600"},W=L({__name:"FileInput",props:{modelValue:{},label:{default:""},accept:{default:""},multiple:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:v}){const c=v,a=g(null),s=g(null),x=()=>{a.value=null,s.value?.click()},V=n=>e.accept?e.accept.split(",").map(t=>t.trim()).some(t=>t.startsWith(".")?n.name.endsWith(t):t.endsWith("/*")?n.type.startsWith(t.slice(0,-1)):n.type===t):!0,b=n=>{const l=n.target;if(!l.files||l.files.length===0){d();return}const t=Array.from(l.files),h=t.filter(V);if(h.length!==t.length){a.value=`Tipo de archivo no válido. Permitidos: ${e.accept}`,d();return}a.value=null,e.multiple?c("update:modelValue",l.files):c("update:modelValue",h[0]||null)},d=()=>{s.value&&(s.value.value=""),c("update:modelValue",null)},y=p(()=>e.multiple&&e.modelValue instanceof FileList?e.modelValue.length===0?"No se han seleccionado archivos":e.modelValue.length===1?e.modelValue[0].name:`${e.modelValue.length} archivos seleccionados`:e.modelValue instanceof File?e.modelValue.name:"Ningún archivo seleccionado");return(n,l)=>(u(),r("div",w,[e.label?(u(),r("label",C,f(e.label),1)):m("",!0),i("div",{class:k(["mt-1 flex items-center rounded-md border-dgreen1 border-2 border-dashed p-2",o(a)?"border-red-500":"border-gray-300"])},[i("input",{ref_key:"fileInputRef",ref:s,type:"file",class:"hidden",accept:e.accept,multiple:e.multiple,onChange:b},null,40,F),i("button",{type:"button",onClick:x,class:"rounded-md bg-dgreen2 text-white p-2 text-5"}," Seleccionar Archivo "),i("span",B,f(o(y)),1),e.modelValue?(u(),r("button",{key:0,onClick:d,class:"ml-auto text-gray-400 hover:text-gray-600 p-1",title:"Quitar archivo"},[...l[0]||(l[0]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.2em",height:"1.2em",viewBox:"0 0 24 24"},[i("path",{fill:"currentColor",d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12z"})],-1)])])):m("",!0)],2),o(a)?(u(),r("p",I,f(o(a)),1)):m("",!0)]))}});export{W as _};
